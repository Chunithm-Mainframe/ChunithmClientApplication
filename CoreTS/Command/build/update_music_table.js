!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n,a,l,i,u,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Invalid=0]="Invalid",e[e.Basic=1]="Basic",e[e.Advanced=2]="Advanced",e[e.Expert=3]="Expert",e[e.Master=4]="Master",e[e.WorldsEnd=5]="WorldsEnd"}(n=t.Difficulty||(t.Difficulty={})),function(e){e[e.Invalid=0]="Invalid",e[e.POPS_AND_ANIME=1]="POPS_AND_ANIME",e[e.niconico=2]="niconico",e[e["東方Project"]=3]="東方Project",e[e.VARIETY=4]="VARIETY",e[e["イロドリミドリ"]=5]="イロドリミドリ",e[e["言ノ葉Project"]=6]="言ノ葉Project",e[e.ORIGINAL=7]="ORIGINAL",e[e.All=8]="All"}(a=t.Genre||(t.Genre={})),function(e){e[e.None=0]="None",e[e.D=1]="D",e[e.C=2]="C",e[e.B=3]="B",e[e.BB=4]="BB",e[e.BBB=5]="BBB",e[e.A=6]="A",e[e.AA=7]="AA",e[e.AAA=8]="AAA",e[e.S=9]="S",e[e.SS=10]="SS",e[e.SSA=11]="SSA",e[e.SSS=12]="SSS",e[e.Max=13]="Max"}(l=t.Rank||(t.Rank={})),function(e){e[e.None=0]="None",e[e.FullCombo=1]="FullCombo",e[e.AllJustice=2]="AllJustice"}(i=t.ComboStatus||(t.ComboStatus={})),function(e){e[e.None=0]="None",e[e.FullChainGold=1]="FullChainGold",e[e.FullChainPlatinum=2]="FullChainPlatinum"}(u=t.ChainStatus||(t.ChainStatus={})),function(e){e[e.Invalid=0]="Invalid",e[e["招"]=1]="招",e[e["狂"]=2]="狂",e[e["止"]=3]="止",e[e["改"]=4]="改",e[e["両"]=5]="両",e[e["嘘"]=6]="嘘",e[e["半"]=7]="半",e[e["時"]=8]="時",e[e["光"]=9]="光",e[e["割"]=10]="割",e[e["跳"]=11]="跳",e[e["弾"]=12]="弾",e[e["戻"]=13]="戻",e[e["伸"]=14]="伸",e[e["布"]=15]="布",e[e["敷"]=16]="敷",e[e["翔"]=17]="翔",e[e["謎"]=18]="謎",e[e["疑"]=19]="疑",e[e["驚"]=20]="驚",e[e["避"]=21]="避",e[e["速"]=22]="速",e[e["歌"]=23]="歌",e[e["没"]=24]="没",e[e["舞"]=25]="舞",e[e["俺"]=26]="俺",e[e["蔵"]=27]="蔵",e[e["覚"]=28]="覚"}(s=t.WorldsEndType||(t.WorldsEndType={})),t.RANK_MAX_BORDER_SCORE=101e4,t.RANK_SSS_BORDER_SCORE=1007500,t.RANK_SSA_BORDER_SCORE=1005e3,t.RANK_SS_BORDER_SCORE=1e6,t.RANK_S_BORDER_SCORE=975e3,t.RANK_AAA_BORDER_SCORE=95e4,t.RANK_AA_BORDER_SCORE=925e3,t.RANK_A_BORDER_SCORE=9e5,t.RANK_BBB_BORDER_SCORE=8e5,t.RANK_BB_BORDER_SCORE=7e5,t.RANK_B_BORDER_SCORE=6e5,t.RANK_C_BORDER_SCORE=5e5,t.RANK_D_BORDER_SCORE=0,t.RANK_NONE_BORDER_SCORE=0,t.RANK_MAX_TEXT="MAX",t.RANK_SSS_TEXT="SSS",t.RANK_SSA_TEXT="SS+",t.RANK_SS_TEXT="SS",t.RANK_S_TEXT="S",t.RANK_AAA_TEXT="AAA",t.RANK_AA_TEXT="AA",t.RANK_A_TEXT="A",t.RANK_BBB_TEXT="BBB",t.RANK_BB_TEXT="BB",t.RANK_B_TEXT="B",t.RANK_C_TEXT="C",t.RANK_D_TEXT="D",t.RANK_NONE_TEXT="NONE",t.RANK_MAX_CODE=10,t.RANK_SSS_CODE=10,t.RANK_SSA_CODE=9,t.RANK_SS_CODE=9,t.RANK_S_CODE=8,t.RANK_AAA_CODE=7,t.RANK_AA_CODE=6,t.RANK_A_CODE=5,t.RANK_BBB_CODE=4,t.RANK_BB_CODE=3,t.RANK_B_CODE=2,t.RANK_C_CODE=1,t.RANK_D_CODE=0,t.RANK_NONE_CODE=-1,t.getBorderScore=function(e){switch(e){case l.Max:return t.RANK_MAX_BORDER_SCORE;case l.SSS:return t.RANK_SSS_BORDER_SCORE;case l.SSA:return t.RANK_SSA_BORDER_SCORE;case l.SS:return t.RANK_SS_BORDER_SCORE;case l.S:return t.RANK_S_BORDER_SCORE;case l.AAA:return t.RANK_AAA_BORDER_SCORE;case l.AA:return t.RANK_AA_BORDER_SCORE;case l.A:return t.RANK_A_BORDER_SCORE;case l.BBB:return t.RANK_BBB_BORDER_SCORE;case l.BB:return t.RANK_BB_BORDER_SCORE;case l.B:return t.RANK_B_BORDER_SCORE;case l.C:return t.RANK_C_BORDER_SCORE;case l.D:return t.RANK_D_BORDER_SCORE}return t.RANK_NONE_BORDER_SCORE},t.getRank=function(e){return e>=t.RANK_MAX_BORDER_SCORE?l.Max:e>=t.RANK_SSS_BORDER_SCORE?l.SSS:e>=t.RANK_SSA_BORDER_SCORE?l.SSA:e>=t.RANK_SS_BORDER_SCORE?l.SS:e>=t.RANK_S_BORDER_SCORE?l.S:e>=t.RANK_AAA_BORDER_SCORE?l.AAA:e>=t.RANK_AA_BORDER_SCORE?l.AA:e>=t.RANK_A_BORDER_SCORE?l.A:e>=t.RANK_BBB_BORDER_SCORE?l.BBB:e>=t.RANK_BB_BORDER_SCORE?l.BB:e>=t.RANK_B_BORDER_SCORE?l.B:e>=t.RANK_C_BORDER_SCORE?l.C:e>=t.RANK_D_BORDER_SCORE?l.D:t.RANK_NONE_BORDER_SCORE},t.toRank=function(e){switch(e){case t.RANK_SSS_CODE:return l.SSS;case t.RANK_SS_CODE:return l.SS;case t.RANK_S_CODE:return l.S;case t.RANK_AAA_CODE:return l.AAA;case t.RANK_AA_CODE:return l.AA;case t.RANK_A_CODE:return l.A;case t.RANK_BBB_CODE:return l.BBB;case t.RANK_BB_CODE:return l.BB;case t.RANK_B_CODE:return l.B;case t.RANK_C_CODE:return l.C;case t.RANK_D_CODE:return l.D}return l.None},t.toRankText=function(e){switch(e){case l.Max:return t.RANK_MAX_TEXT;case l.SSS:return t.RANK_SSS_TEXT;case l.SSA:return t.RANK_SSA_TEXT;case l.SS:return t.RANK_SS_TEXT;case l.S:return t.RANK_S_TEXT;case l.AAA:return t.RANK_AAA_TEXT;case l.AA:return t.RANK_AA_TEXT;case l.A:return t.RANK_A_TEXT;case l.BBB:return t.RANK_BBB_TEXT;case l.BB:return t.RANK_BB_TEXT;case l.B:return t.RANK_B_TEXT;case l.C:return t.RANK_C_TEXT;case l.D:return t.RANK_D_TEXT;case l.None:return t.RANK_NONE_TEXT}},t.toRankCode=function(e){if("number"==typeof e)switch(e){case l.Max:return t.RANK_MAX_CODE;case l.SSS:return t.RANK_SSS_CODE;case l.SSA:return t.RANK_SSA_CODE;case l.SS:return t.RANK_SS_CODE;case l.S:return t.RANK_S_CODE;case l.AAA:return t.RANK_AAA_CODE;case l.AA:return t.RANK_AA_CODE;case l.A:return t.RANK_A_CODE;case l.BBB:return t.RANK_BBB_CODE;case l.BB:return t.RANK_BB_CODE;case l.B:return t.RANK_B_CODE;case l.C:return t.RANK_C_CODE;case l.D:return t.RANK_D_CODE;case l.None:return t.RANK_NONE_CODE}else if("string"==typeof e){switch(e){case t.RANK_SSS_TEXT:return t.RANK_SSS_CODE;case t.RANK_SS_TEXT:return t.RANK_SS_CODE;case t.RANK_S_TEXT:return t.RANK_S_CODE;case t.RANK_AAA_TEXT:return t.RANK_AAA_CODE;case t.RANK_AA_TEXT:return t.RANK_AA_CODE;case t.RANK_A_TEXT:return t.RANK_A_CODE;case t.RANK_BBB_TEXT:return t.RANK_BBB_CODE;case t.RANK_BB_TEXT:return t.RANK_BB_CODE;case t.RANK_B_TEXT:return t.RANK_B_CODE;case t.RANK_C_TEXT:return t.RANK_C_CODE;case t.RANK_D_TEXT:return t.RANK_D_CODE}return t.RANK_NONE_CODE}};class o{}o.id=-1,o.musicName="",o.artistName="",o.imageName="",o.genre=a.Invalid,o.difficulty=n.Invalid,o.level=0,o.worldsEndLevel=-1,o.worldsEndType=s.Invalid,o.score=0,o.rank=l.None,o.baseRating=0,o.rating=0,o.isNewRecord=!1,o.isClear=!1,o.comboStatus=i.None,o.chainStatus=u.None,o.track=0,o.playDate=new Date(0),o.playCount=0,o.storeName="",o.characterName="",o.skillName="",o.skillLevel=0,o.skillResult=0,o.maxCombo=0,o.justiceCriticalCount=0,o.justiceCount=0,o.attackCount=0,o.missCount=0,o.tapPercentage=0,o.holdPercentage=0,o.slidePercentage=0,o.airPercentage=0,o.flickPercentage=0,t.DefaultParameter=o,t.parseScore=function(e){if(!e)return o.score;var t=parseInt(e.replace(/,/g,""));return t||o.score},t.parseNumber=function(e,t=NaN){if(!e)return t;var r=parseInt(e.replace(/,/g,""));return r||t},t.toGenre=function(e){switch(e){case"POPS & ANIME":return a.POPS_AND_ANIME;case"niconico":return a.niconico;case"東方Project":return a.東方Project;case"VARIETY":return a.VARIETY;case"イロドリミドリ":return a.イロドリミドリ;case"言ノ葉Project":return a.言ノ葉Project;case"ORIGINAL":return a.ORIGINAL;case"ALL":return a.All}return a.Invalid},t.toWorldsEndType=function(e){return o.worldsEndType},t.getBorderBaseRating=function(e){var t,r=0;return-1!==e.indexOf("+")&&(r=.7),e=e.replace("+",""),NaN===(t=parseInt(e))?o.baseRating:t+r},t.toDocument=function(e){return(new DOMParser).parseFromString(e,"text/html")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class a{static getPageTitle(e){if(!e)return"";let t=e.getElementById("page_title");return t?t.textContent:""}static getMusicTitle(e){let t=e.getElementsByClassName("music_title");return t&&t[0]?t[0].textContent:n.DefaultParameter.musicName}static getPlayMusicDataTitle(e){let t=e.getElementsByClassName("play_musicdata_title");return t&&t[0]?t[0].textContent:n.DefaultParameter.musicName}static getMusicId(e,t){if(t){let r=e.getElementsByClassName(t);if(!r||!r[0])return n.DefaultParameter.id;let a=r[0].getAttribute("onclick");if(!a)return n.DefaultParameter.id;let l=a.match(/musicId_(\d+)/);if(!l||!l[1])return n.DefaultParameter.id;let i=parseInt(l[1]);return i||0===i?i:n.DefaultParameter.id}{let t=e.getElementsByTagName("input");if(!t)return n.DefaultParameter.id;for(var r=0;r<t.length;r++)if(t[r]&&"idx"==t[r].getAttribute("name")){var a=t[r].getAttribute("value"),l=parseInt(a);return l||n.DefaultParameter.id}return n.DefaultParameter.id}}static getWorldsEndMusicId(e){return a.getMusicId(e,"musiclist_worldsend_title")}static getPlayMusicDataHighScore(e){let t=e.querySelector(".play_musicdata_highscore > .text_b"),r=t?t.textContent:null;return n.parseScore(r)}static getPlayMusicDataScore(e){let t=e.getElementsByClassName("play_musicdata_score_text"),r=t?t[0]:null,a=r?r.textContent.replace("Score：",""):null;return n.parseScore(a)}static getScoreFromMusicDetail(e){let t=e.getElementsByClassName("block_underline"),r=t?t[0]:null,a=r?r.getElementsByTagName("span"):null,l=a?a[1]:null,i=l?l.textContent:null;return n.parseScore(i)}static getDifficulty(e){return-1!==e.className.indexOf("master")?n.Difficulty.Master:-1!==e.className.indexOf("expert")?n.Difficulty.Expert:-1!==e.className.indexOf("advanced")?n.Difficulty.Advanced:-1!==e.className.indexOf("basic")?n.Difficulty.Basic:-1!==e.className.indexOf("world_end")?n.Difficulty.WorldsEnd:n.DefaultParameter.difficulty}static getDifficultyFromPlayTrackResult(e){let t=e.getElementsByClassName("play_track_result"),r=t?t[0]:null,a=r?r.getElementsByTagName("img"):null,l=a?a[0]:null,i=l?l.getAttribute("src"):null;return i?-1!==i.indexOf("basic")?n.Difficulty.Basic:-1!==i.indexOf("advanced")?n.Difficulty.Advanced:-1!==i.indexOf("expert")?n.Difficulty.Expert:-1!==i.indexOf("master")?n.Difficulty.Master:-1!==i.indexOf("worldsend")?n.Difficulty.WorldsEnd:n.DefaultParameter.difficulty:n.DefaultParameter.difficulty}static getIsNewRecord(e){let t=e.getElementsByClassName("play_musicdata_score_img"),r=t?t[0]:null,a=r?r.getElementsByTagName("img"):null,l=a?a[0]:null,i=l?l.getAttribute("src"):null;return i?-1!==i.indexOf("icon_newrecord"):n.DefaultParameter.isNewRecord}static getRank(e){let t=a.getPlayMusicDataIcons(e);for(var r=0;r<t.length;r++){let e=t[r];if(-1!==e.indexOf("icon_rank")){let t=e.match(/icon_rank_(\d+).png/),r=t&&t[1]?parseInt(t[1]):null;return n.toRank(r)}}return n.DefaultParameter.rank}static getIsClear(e){let t=a.getPlayMusicDataIcons(e);for(var r=0;r<t.length;r++){if(-1!==t[r].indexOf("clear"))return!0}return n.DefaultParameter.isClear}static getComboStatus(e){let t=a.getPlayMusicDataIcons(e);for(var r=0;r<t.length;r++){let e=t[r];if(-1!==e.indexOf("alljustice"))return n.ComboStatus.AllJustice;if(-1!==e.indexOf("fullcombo"))return n.ComboStatus.FullCombo}return n.DefaultParameter.comboStatus}static getChainStatus(e){let t=a.getPlayMusicDataIcons(e);for(var r=0;r<t.length;r++){let e=t[r];if(-1!==e.indexOf("fullchain2"))return n.ChainStatus.FullChainGold;if(-1!==e.indexOf("fullchain"))return n.ChainStatus.FullChainPlatinum}return n.DefaultParameter.chainStatus}static getPlayMusicDataIcons(e){var t=e.getElementsByClassName("play_musicdata_icon"),r=t?t[0]:null,n=r?r.getElementsByTagName("img"):null;if(!n)return new Array;for(var a=new Array,l=0;l<n.length;l++){var i=n[l].getAttribute("src");i&&a.push(i)}return a}static getPlayDataListDate(e){return a._getPlayDate(e,"play_datalist_date")}static getMusicDataDetailDate(e){return a._getPlayDate(e,"musicdata_detail_date")}static getPlayDate(e){return a._getPlayDate(e,"box_inner01")}static _getPlayDate(e,t){let r=e.getElementsByClassName(t),a=r&&r[0]?r[0].textContent:null;if(!a)return n.DefaultParameter.playDate;let l=a.match(/(\d+)\/(\d+)\/(\d+) (\d+):(\d+)/);if(!l)return n.DefaultParameter.playDate;var i=parseInt(l[1]),u=parseInt(l[2]),s=parseInt(l[3]),o=parseInt(l[4]),c=parseInt(l[5]);return NaN!==i&&NaN!==u&&NaN!==s&&NaN!==o&&NaN!==c?new Date(i,u-1,s,o,c):n.DefaultParameter.playDate}static getTrack(e){let t=e.getElementsByClassName("play_track_text"),r=t&&t[0]?t[0].textContent.replace("Track ",""):null,a=parseInt(r);return NaN===a?n.DefaultParameter.track:a}static getImageName(e){let t=e.getElementsByClassName("play_jacket_img"),r=t&&t[0]?t[0].getElementsByTagName("img"):null,a=r&&r[0]?r[0].getAttribute("src"):null;return a||n.DefaultParameter.imageName}static getArtistName(e){let t=e.getElementsByClassName("play_musicdata_artist");return t&&t[0]?t[0].textContent:n.DefaultParameter.artistName}static getPlayCount(e){let t=e.getElementsByClassName("block_underline"),r=t&&t[1]?t[1].getElementsByTagName("span"):null,a=r&&r[1]?r[1].textContent:null,l=parseInt(a);return NaN===l?n.DefaultParameter.playCount:l}static getWorldsEndLevelFromHighScoreRecord(e){return a.getWorldsEndLevel(e,"musiclist_worldsend_star")}static getWorldsEndLevelFromMusicDetail(e){return a.getWorldsEndLevel(e,"musiclist_worldsend_star2")}static getWorldsEndLevel(e,t){let r=e.getElementsByClassName(t),a=r&&r[0]?r[0].getElementsByTagName("img"):null,l=a&&a[0]?a[0].getAttribute("src"):null;if(!l)return n.DefaultParameter.worldsEndLevel;let i=l.match(/icon_we_star(\d+).png/),u=i?parseInt(i[1]):NaN;return NaN!==u?u:n.DefaultParameter.worldsEndLevel}static getWorldsEndType(e,t){let r=e.getElementsByClassName(t),a=r&&r[0]?r[0].getElementsByTagName("img"):null,l=a&&a[0]?a[0].getAttribute("src"):null;if(!l)return n.DefaultParameter.worldsEndType;var i=l.match(/icon_we_(\d+).png/),u=i?parseInt(i[1]):NaN;return NaN!==u?n.toWorldsEndType(u):n.DefaultParameter.worldsEndType}}t.HtmlParseUtility=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,l){function i(e){try{s(n.next(e))}catch(e){l(e)}}function u(e){try{s(n.throw(e))}catch(e){l(e)}}function s(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,u)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=r(3),l=r(4),i=r(5),u=r(0),s=r(6);!function(){n(this,void 0,void 0,function*(){let e=a.ChunithmNetConnector.getToken(document);if(!e)return void alert("トークンが取得できません。取得可能なページで再度実行してください。");var t=new Array,r=new Array;{let i=yield a.ChunithmNetConnector.post("record/musicGenre/sendBasic",{genre:"99",token:e});if(!i)return void alert("楽曲リストの取得に失敗しました");var n=(new l.MusicGenre.Parser).parse(u.toDocument(i));for(let e of n.units){let n=e.id.toString();r.push(n),t[n]={Id:e.id,Name:e.name,Genre:e.genre,BasicLevel:0,AdvancedLevel:0,ExpertLevel:0,MasterLevel:0,BasicVerified:!1,AdvancedVerified:!1,ExpertVerified:!1,MasterVerified:!1}}}{const r=20;let n=new Array;for(var o=0;o<=r;o++){let t=o;if(n[o]=yield a.ChunithmNetConnector.post("record/musicLevel/sendSearch",{level:t.toString(),token:e}),!n[o])return void alert("楽曲リストの取得に失敗しました")}let l=new i.MusicLevel.Parser;for(o=0;o<n.length;o++){let e=l.parse(u.toDocument(n[o]));for(let r of e.units){let e=r.id.toString();switch(r.difficulty){case u.Difficulty.Basic:t[e].BasicLevel=r.level;break;case u.Difficulty.Advanced:t[e].AdvancedLevel=r.level;break;case u.Difficulty.Expert:t[e].ExpertLevel=r.level;break;case u.Difficulty.Master:t[e].MasterLevel=r.level}}}}var c=new Array;for(let e of r){let r=t[e];c.push(r)}let _=new s.Connector(s.Connector.RELEASE_URL);(yield _.post({API:"table/update",MusicDatas:c}))?alert("楽曲リストの更新に成功しました"):alert("楽曲リストの更新に失敗しました")})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=1e4;class a{static post(e,t){return new Promise((r,l)=>{$.ajax({type:"post",url:a.createUrl(e),data:t,timeout:n}).done(function(e,t,n){r(e)}).fail(function(e,t,r){l("Error occured in ajax connection."+e.responseText)})})}static createUrl(e){return"https://chunithm-net.com/mobile/"+e}static getToken(e){return e.getElementsByName("token")[0].getAttribute("value")}}t.ChunithmNetConnector=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0);!function(e){class t{constructor(){this.id=a.DefaultParameter.id,this.name=a.DefaultParameter.musicName,this.genre=a.DefaultParameter.genre,this.difficulty=a.DefaultParameter.difficulty,this.score=a.DefaultParameter.score,this.rank=a.DefaultParameter.rank,this.isClear=a.DefaultParameter.isClear,this.comboStatus=a.DefaultParameter.comboStatus,this.chainStatus=a.DefaultParameter.chainStatus}}e.DataUnit=t;class r{constructor(){this.units=new Array}}e.Data=r;e.Parser=class{parse(e){if(null==e)throw{message:"argument null exception"};if(!this.isValidDocument(e))return null;var t=e.getElementById("scoreList_result");if(null==t)return null;var n=e.getElementById("inner");if(null==n)return null;var a=new r;return a.musicCount=this.getMusicCount(t),a.clearCount=this.getClearCount(t),a.sCount=this.getSCount(t),a.ssCount=this.getSsCount(t),a.sssCount=this.getSssCount(t),a.fullComboCount=this.getFullComboCount(t),a.allJusticeCount=this.getAllJusticeCount(t),a.fullChainGoldCount=this.getFullChainGoldCount(t),a.fullChainPlatinumCount=this.getFullChainPlatinumCount(t),a.units=this.getUnits(n),a}isValidDocument(e){return"楽曲別レコード"==n.HtmlParseUtility.getPageTitle(e)}getMusicCount(e){for(var t=this.getScoreList(e),r=0;r<t.length;r++){let e=t[r];if(-1!==e.key.indexOf("icon_clear"))return e.denominator}return 0}getClearCount(e){return this.getNumerator(e,"icon_clear")}getSCount(e){return this.getNumerator(e,"icon_rank_8")}getSsCount(e){return this.getNumerator(e,"icon_rank_9")}getSssCount(e){return this.getNumerator(e,"icon_rank_10")}getFullComboCount(e){return this.getNumerator(e,"icon_fullcombo")}getAllJusticeCount(e){return this.getNumerator(e,"icon_alljustice")}getFullChainGoldCount(e){return this.getNumerator(e,"icon_fullchain2")}getFullChainPlatinumCount(e){for(var t=this.getScoreList(e),r=0;r<t.length;r++){let e=t[r];if(-1!==e.key.indexOf("icon_fullchain")&&-1===e.key.indexOf("icon_fullchain2"))return e.numerator}return 0}getNumerator(e,t){for(var r=this.getScoreList(e),n=0;n<r.length;n++){let e=r[n];if(-1!==e.key.indexOf(t))return e.numerator}return 0}getScoreList(e){var t=e.getElementsByClassName("score_list");if(null==t)return new Array;for(var r=e=>{var t=e.getElementsByClassName("score_list_left");if(!t||0==t.length)return null;var r=t[0].getElementsByTagName("img");if(!r||0==r.length)return null;var n=r[0].getAttribute("src");return n&&""!=n?n:null},n=e=>{var t=e.getElementsByClassName("score_list_right");if(!t||0==t.length)return null;var r=t[0].textContent.replace(" ","").split("/");return!r||r.length<2?null:{numerator:parseInt(r[0]),denominator:parseInt(r[1])}},a=new Array,l=0;l<t.length;l++){let e=t[l],i=r(e),u=n(e);i&&u&&a.push({key:i,numerator:u.numerator,denominator:u.denominator})}return a}getUnits(e){var t=e.getElementsByClassName("musiclist_box");if(null==t)return new Array;for(var r=new Array,n=0;n<t.length;n++)r.push(this.parseUnit(t[n],n));return r}parseUnit(e,r){var n=new t;return n.id=this.getId(e),n.name=this.getName(e),n.genre=this.getGenre(e),n.difficulty=this.getDifficulty(e),n.score=this.getScore(e),n.rank=this.getRank(e),n.isClear=this.getIsClear(e),n.comboStatus=this.getComboStatus(e),n.chainStatus=this.getChainStatus(e),n}getId(e){return n.HtmlParseUtility.getMusicId(e)}getName(e){return n.HtmlParseUtility.getMusicTitle(e)}getGenre(e){var t=e.parentElement.parentElement.getElementsByClassName("genre"),r=t&&t[0]?t[0].textContent:null;return r?a.toGenre(r):a.DefaultParameter.genre}getDifficulty(e){return n.HtmlParseUtility.getDifficulty(e)}getScore(e){return n.HtmlParseUtility.getPlayMusicDataHighScore(e)}getRank(e){return n.HtmlParseUtility.getRank(e)}getIsClear(e){return n.HtmlParseUtility.getIsClear(e)}getComboStatus(e){return n.HtmlParseUtility.getComboStatus(e)}getChainStatus(e){return n.HtmlParseUtility.getChainStatus(e)}}}(t.MusicGenre||(t.MusicGenre={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),a=r(0);!function(e){class t{constructor(){this.id=a.DefaultParameter.id,this.name=a.DefaultParameter.musicName,this.difficulty=a.DefaultParameter.difficulty,this.level=a.DefaultParameter.level,this.score=a.DefaultParameter.score,this.rank=a.DefaultParameter.rank,this.isClear=a.DefaultParameter.isClear,this.comboStatus=a.DefaultParameter.comboStatus,this.chainStatus=a.DefaultParameter.chainStatus}}e.DataUnit=t;class r{constructor(){this.units=new Array}}e.Data=r;e.Parser=class{parse(e){if(null==e)throw{message:"argument null exception"};if(!this.isValidDocument(e))return null;var t=e.getElementById("scoreList_result");if(null==t)return null;var n=e.getElementById("inner");if(null==n)return null;var a=new r;return a.musicCount=this.getMusicCount(t),a.clearCount=this.getClearCount(t),a.sCount=this.getSCount(t),a.ssCount=this.getSsCount(t),a.sssCount=this.getSssCount(t),a.fullComboCount=this.getFullComboCount(t),a.allJusticeCount=this.getAllJusticeCount(t),a.fullChainGoldCount=this.getFullChainGoldCount(t),a.fullChainPlatinumCount=this.getFullChainPlatinumCount(t),a.units=this.getUnits(n),a}isValidDocument(e){return"楽曲別レコード"==n.HtmlParseUtility.getPageTitle(e)}getMusicCount(e){for(var t=this.getScoreList(e),r=0;r<t.length;r++){let e=t[r];if(-1!==e.key.indexOf("icon_clear"))return e.denominator}return 0}getClearCount(e){return this.getNumerator(e,"icon_clear")}getSCount(e){return this.getNumerator(e,"icon_rank_8")}getSsCount(e){return this.getNumerator(e,"icon_rank_9")}getSssCount(e){return this.getNumerator(e,"icon_rank_10")}getFullComboCount(e){return this.getNumerator(e,"icon_fullcombo")}getAllJusticeCount(e){return this.getNumerator(e,"icon_alljustice")}getFullChainGoldCount(e){return this.getNumerator(e,"icon_fullchain2")}getFullChainPlatinumCount(e){for(var t=this.getScoreList(e),r=0;r<t.length;r++){let e=t[r];if(-1!==e.key.indexOf("icon_fullchain")&&-1===e.key.indexOf("icon_fullchain2"))return e.numerator}return 0}getNumerator(e,t){for(var r=this.getScoreList(e),n=0;n<r.length;n++){let e=r[n];if(-1!==e.key.indexOf(t))return e.numerator}return 0}getScoreList(e){var t=e.getElementsByClassName("score_list");if(null==t)return new Array;for(var r=e=>{var t=e.getElementsByClassName("score_list_left");if(!t||0==t.length)return null;var r=t[0].getElementsByTagName("img");if(!r||0==r.length)return null;var n=r[0].getAttribute("src");return n&&""!=n?n:null},n=e=>{var t=e.getElementsByClassName("score_list_right");if(!t||0==t.length)return null;var r=t[0].textContent.replace(" ","").split("/");return!r||r.length<2?null:{numerator:parseInt(r[0]),denominator:parseInt(r[1])}},a=new Array,l=0;l<t.length;l++){let e=t[l],i=r(e),u=n(e);i&&u&&a.push({key:i,numerator:u.numerator,denominator:u.denominator})}return a}getUnits(e){var t=e.getElementsByClassName("musiclist_box");if(null==t)return new Array;for(var r=new Array,n=0;n<t.length;n++)r.push(this.parseUnit(t[n],n));return r}parseUnit(e,r){var n=new t;return n.id=this.getId(e),n.name=this.getName(e),n.difficulty=this.getDifficulty(e),n.level=this.getLevel(e),n.score=this.getScore(e),n.rank=this.getRank(e),n.isClear=this.getIsClear(e),n.comboStatus=this.getComboStatus(e),n.chainStatus=this.getChainStatus(e),n}getId(e){return n.HtmlParseUtility.getMusicId(e)}getName(e){return n.HtmlParseUtility.getMusicTitle(e)}getDifficulty(e){return n.HtmlParseUtility.getDifficulty(e)}getLevel(e){let t=e.parentElement.parentElement.getElementsByClassName("box01_title"),r=t&&t[0]?t[0].textContent.replace("LEVEL ",""):null;return r?a.getBorderBaseRating(r):a.DefaultParameter.level}getScore(e){return n.HtmlParseUtility.getPlayMusicDataHighScore(e)}getRank(e){return n.HtmlParseUtility.getRank(e)}getIsClear(e){return n.HtmlParseUtility.getIsClear(e)}getComboStatus(e){return n.HtmlParseUtility.getComboStatus(e)}getChainStatus(e){return n.HtmlParseUtility.getChainStatus(e)}}}(t.MusicLevel||(t.MusicLevel={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.url=e}post(e){return new Promise((t,r)=>{$.ajax({type:"post",url:this.url,data:JSON.stringify(e),timeout:n.TIME_OUT}).done(function(e,r,n){t(e)}).fail(function(e,t,n){r("Error occured in ajax connection."+e.responseText)})})}}n.DEVELOP_URL="https://script.google.com/macros/s/AKfycbxujx4njFMXtNUKkzvCHIMz21RPt2F74XSzS5xgy9gkoFQ9l4A/exec",n.RELEASE_URL="https://script.google.com/macros/s/AKfycbwAOxPF2cTkx8yIYUL_0kf_Nd7zdzdulbVVQZs6z69wiMKwEutD/exec",n.TIME_OUT=1e4,t.Connector=n}]);